records = [[[123, 219, 407, 481, 830], 0.25],
           [[356, 491, 501, 729, 973], 0.35],
           [[252, 272, 364, 426, 718], 0.3],
           [[356, 361, 468, 551, 708], 0.25],
           [[346, 352, 395, 619, 902], 0.45],
           [[167, 418, 655, 742, 818], 0.25],
           [[48, 112, 571, 640, 840], 0.25],
           [[28, 409, 500, 742, 921], 0.25],
           [[258, 374, 678, 723, 729], 0.35],
           [[332, 334, 650, 702, 777], 0.25],
           [[139, 273, 661, 742, 946], 0.25],
           [[74, 198, 571, 717, 742], 0.25],
           [[161, 201, 477, 698, 817], 0.25],
           [[188, 200, 268, 482, 956], 0.25],
           [[100, 116, 220, 412, 959], 0.25],
           [[368, 669, 679, 703, 742], 0.25],
           [[58, 236, 309, 597, 605], 0.3],
           [[136, 145, 301, 675, 724], 0.25],
           [[74, 157, 433, 742, 751], 0.35],
           [[246, 290, 570, 696, 775], 0.45],
           [[83, 119, 254, 332, 403], 0.25],
           [[132, 317, 605, 630, 750], 0.3],
           [[28, 69, 580, 584, 710], 0.3],
           [[129, 217, 359, 403, 973], 0.25],
           [[276, 302, 359, 419, 711], 0.25],
           [[22, 291, 660, 916, 936], 0.25],
           [[150, 211, 431, 568, 819], 0.25],
           [[244, 688, 742, 854, 906], 0.35],
           [[243, 388, 652, 793, 820], 0.25],
           [[77, 98, 742, 758, 822], 0.4],
           [[123, 237, 468, 762, 830, 959], 0.25],
           [[167, 181, 256, 742, 851, 955], 0.25],
           [[378, 489, 680, 717, 830, 939], 0.35],
           [[202, 244, 332, 335, 494, 902], 0.45],
           [[313, 437, 605, 742, 804, 958], 0.35],
           [[35, 128, 201, 555, 768, 779], 0.25],
           [[57, 291, 314, 317, 445, 481], 0.35],
           [[309, 353, 364, 640, 703, 897], 0.4],
           [[93, 218, 220, 243, 408, 826], 0.3],
           [[201, 278, 361, 504, 676, 962], 0.25],
           [[48, 135, 527, 542, 672, 866], 0.45],
           [[23, 140, 378, 477, 779, 872], 0.25],
           [[11, 215, 495, 635, 686, 742], 0.35],
           [[133, 622, 672, 730, 742, 835], 0.55],
           [[139, 356, 439, 492, 893, 899], 0.35],
           [[34, 74, 117, 151, 205, 644], 0.3],
           [[0, 48, 218, 348, 650, 707], 0.25],
           [[128, 390, 409, 435, 542, 742], 0.25],
           [[163, 323, 378, 477, 679, 754], 0.35],
           [[2, 553, 566, 632, 658, 963], 0.25],
           [[243, 454, 605, 742, 830, 863], 0.25],
           [[332, 408, 449, 482, 672, 744], 0.3],
           [[61, 233, 684, 755, 801, 805], 0.25],
           [[236, 289, 388, 391, 514, 936], 0.35],
           [[344, 348, 641, 678, 743, 752], 0.25],
           [[48, 374, 409, 622, 871, 916], 0.3],
           [[55, 303, 332, 658, 667, 936], 0.25],
           [[118, 378, 534, 571, 758, 849], 0.3],
           [[112, 123, 332, 400, 541, 561], 0.25],
           [[67, 537, 605, 631, 642, 679], 0.25],
           [[173, 243, 332, 367, 376, 529, 656], 0.25],
           [[74, 165, 211, 276, 297, 604, 958], 0.25],
           [[174, 186, 319, 557, 597, 814, 817], 0.25],
           [[119, 210, 275, 381, 690, 822, 962], 0.25],
           [[263, 424, 476, 595, 742, 750, 751], 0.4],
           [[146, 167, 286, 380, 789, 877, 890], 0.35],
           [[3, 132, 417, 469, 734, 853, 909], 0.3],
           [[4, 48, 535, 561, 658, 856, 948], 0.25],
           [[11, 112, 163, 571, 824, 842, 856], 0.3],
           [[15, 277, 291, 409, 727, 827, 902], 0.25],
           [[101, 202, 245, 247, 718, 742, 811], 0.35],
           [[240, 371, 420, 534, 638, 744, 856], 0.4],
           [[163, 192, 332, 507, 718, 772, 852], 0.25],
           [[48, 359, 509, 534, 699, 742, 966], 0.25],
           [[394, 542, 652, 658, 687, 787, 936], 0.3],
           [[53, 280, 329, 403, 503, 733, 909], 0.35],
           [[39, 69, 150, 309, 394, 416, 502], 0.3],
           [[242, 268, 280, 491, 597, 706, 957], 0.25],
           [[90, 107, 225, 298, 332, 662, 804], 0.25],
           [[28, 468, 521, 623, 817, 853, 913], 0.25],
           [[83, 116, 265, 534, 710, 831, 961], 0.35],
           [[112, 385, 400, 615, 693, 742, 833], 0.25],
           [[102, 129, 150, 300, 355, 732, 757], 0.25],
           [[119, 328, 482, 713, 832, 891, 930], 0.35],
           [[268, 276, 344, 375, 452, 693, 718], 0.25],
           [[277, 346, 388, 570, 603, 734, 953], 0.25],
           [[192, 404, 605, 784, 817, 842, 892], 0.25],
           [[84, 150, 409, 489, 689, 710, 817], 0.25],
           [[66, 302, 576, 710, 733, 752, 974], 0.45],
           [[170, 177, 245, 388, 628, 878, 905], 0.3],
           [[121, 242, 309, 349, 542, 785, 813, 925], 0.25],
           [[61, 192, 284, 382, 724, 786, 817, 963], 0.3],
           [[19, 25, 210, 622, 653, 731, 849, 969], 0.25],
           [[210, 300, 529, 679, 742, 806, 874, 931], 0.25],
           [[296, 309, 333, 374, 501, 522, 693, 931], 0.25],
           [[55, 74, 101, 223, 268, 309, 468, 883], 0.35],
           [[58, 83, 160, 242, 711, 742, 767, 886], 0.25],
           [[40, 72, 293, 530, 710, 756, 830, 892], 0.25],
           [[69, 132, 207, 238, 332, 677, 852, 882], 0.25],
           [[148, 186, 502, 602, 678, 724, 751, 770], 0.35],
           [[28, 135, 171, 202, 359, 386, 518, 600], 0.25],
           [[69, 225, 418, 491, 548, 752, 894, 959], 0.3],
           [[338, 344, 463, 517, 631, 640, 694, 711], 0.25],
           [[96, 243, 344, 417, 482, 491, 752, 944], 0.25],
           [[46, 214, 403, 429, 558, 577, 742, 814], 0.25],
           [[122, 137, 292, 586, 640, 667, 710, 887], 0.25],
           [[95, 364, 491, 547, 583, 639, 710, 909], 0.25],
           [[139, 185, 389, 406, 544, 711, 744, 766], 0.25],
           [[40, 200, 493, 622, 694, 742, 817, 835], 0.3],
           [[13, 86, 174, 219, 295, 604, 796, 888], 0.25],
           [[48, 132, 242, 368, 392, 549, 748, 819], 0.3],
           [[74, 167, 218, 228, 242, 308, 642, 726], 0.55],
           [[72, 74, 309, 374, 687, 767, 802, 805], 0.3],
           [[154, 265, 338, 501, 603, 728, 844, 891], 0.25],
           [[382, 388, 459, 571, 598, 768, 931, 962], 0.25],
           [[11, 28, 211, 218, 271, 671, 691, 757], 0.25],
           [[115, 129, 146, 353, 618, 636, 660, 907], 0.25],
           [[42, 210, 211, 668, 690, 805, 888, 929], 0.4],
           [[226, 250, 262, 557, 577, 600, 826, 874], 0.4],
           [[317, 344, 348, 428, 459, 468, 809, 946], 0.25],
           [[11, 104, 124, 176, 332, 380, 400, 439, 643], 0.25],
           [[155, 246, 338, 445, 482, 590, 610, 731, 865], 0.25],
           [[117, 200, 227, 295, 338, 427, 441, 676, 859], 0.25],
           [[22, 88, 269, 367, 380, 527, 689, 742, 937], 0.25],
           [[200, 356, 606, 607, 679, 689, 700, 726, 912], 0.25],
           [[70, 219, 289, 297, 309, 412, 497, 745, 885], 0.25],
           [[37, 138, 215, 216, 261, 291, 619, 801, 912], 0.25],
           [[19, 140, 291, 317, 412, 461, 680, 897, 912], 0.45],
           [[356, 406, 575, 639, 742, 823, 892, 963, 974], 0.25],
           [[48, 119, 136, 143, 145, 166, 394, 581, 834], 0.25],
           [[73, 74, 247, 349, 378, 655, 708, 908, 929], 0.35],
           [[69, 220, 258, 288, 442, 473, 741, 818, 846], 0.25],
           [[48, 259, 401, 595, 762, 768, 818, 916, 936], 0.25],
           [[113, 171, 602, 666, 728, 742, 756, 784, 922], 0.25],
           [[67, 166, 207, 394, 399, 468, 630, 636, 854], 0.25],
           [[86, 115, 146, 201, 234, 394, 420, 676, 742], 0.25],
           [[4, 376, 390, 459, 667, 699, 710, 732, 936], 0.25],
           [[90, 139, 541, 551, 571, 669, 675, 720, 858], 0.35],
           [[154, 166, 218, 531, 540, 624, 742, 844, 870], 0.6],
           [[174, 178, 348, 378, 626, 732, 742, 955, 962], 0.35],
           [[219, 253, 316, 492, 636, 648, 684, 752, 766], 0.25],
           [[396, 469, 568, 636, 718, 722, 739, 768, 905], 0.25],
           [[44, 211, 491, 496, 622, 640, 752, 895, 930], 0.3],
           [[213, 288, 353, 542, 575, 733, 742, 879, 939], 0.35],
           [[193, 229, 390, 445, 548, 722, 742, 768, 924], 0.25],
           [[37, 48, 223, 266, 520, 610, 801, 842, 930], 0.25],
           [[215, 232, 300, 366, 426, 456, 718, 742, 845], 0.45],
           [[32, 123, 330, 366, 412, 486, 495, 873, 946], 0.25],
           [[35, 85, 265, 309, 332, 353, 534, 570, 867], 0.25],
           [[11, 69, 210, 234, 309, 327, 723, 768, 862], 0.25],
           [[132, 242, 343, 415, 488, 576, 640, 815, 817, 879], 0.25],
           [[155, 175, 177, 206, 408, 465, 486, 656, 742, 900], 0.25],
           [[103, 248, 301, 338, 516, 517, 586, 594, 745, 768], 0.25],
           [[104, 184, 236, 285, 359, 457, 620, 722, 768, 818], 0.25],
           [[314, 356, 583, 588, 637, 673, 744, 768, 842, 930], 0.25],
           [[15, 164, 248, 276, 344, 602, 727, 742, 817, 855], 0.25],
           [[88, 143, 359, 428, 439, 463, 482, 661, 680, 710], 0.25],
           [[23, 58, 111, 174, 344, 636, 689, 743, 744, 814], 0.5],
           [[114, 132, 135, 219, 576, 696, 761, 813, 909, 919], 0.25],
           [[122, 150, 162, 243, 340, 468, 624, 631, 800, 935], 0.3],
           [[4, 42, 129, 145, 167, 277, 322, 405, 576, 819], 0.3],
           [[113, 127, 247, 296, 314, 331, 477, 497, 830, 921], 0.35],
           [[73, 191, 259, 274, 344, 539, 590, 680, 801, 936], 0.25],
           [[83, 196, 265, 285, 420, 542, 637, 652, 742, 935], 0.25],
           [[77, 293, 295, 476, 676, 707, 741, 776, 944, 953], 0.25],
           [[28, 182, 240, 350, 427, 469, 487, 557, 805, 963], 0.25],
           [[132, 302, 344, 366, 549, 596, 616, 639, 875, 963], 0.25],
           [[90, 316, 402, 405, 718, 731, 742, 808, 929, 939], 0.25],
           [[29, 256, 291, 346, 350, 367, 678, 733, 786, 811], 0.3],
           [[211, 279, 289, 316, 346, 364, 477, 619, 742, 753], 0.25],
           [[74, 145, 186, 344, 497, 501, 507, 606, 690, 696], 0.35],
           [[83, 90, 287, 452, 586, 672, 744, 779, 845, 853], 0.25],
           [[170, 191, 246, 491, 541, 562, 602, 606, 739, 777], 0.3],
           [[88, 317, 433, 489, 679, 711, 735, 869, 879, 930], 0.4],
           [[179, 257, 428, 589, 591, 724, 742, 789, 886, 951], 0.35],
           [[17, 130, 242, 273, 534, 661, 680, 794, 801, 865], 0.25],
           [[154, 200, 252, 285, 365, 400, 404, 587, 813, 917], 0.3],
           [[81, 166, 177, 246, 374, 411, 477, 590, 673, 677], 0.25],
           [[15, 74, 225, 246, 316, 517, 642, 839, 842, 909], 0.4],
           [[115, 137, 398, 437, 494, 642, 732, 835, 846, 884], 0.25]]

import go
import numpy as np
import preprocessing
import os
import time


def touchOneRecord(record, name, v):
    start = np.zeros(go.N).astype(np.float32)
    tf_examples = []
    remain = 10
    for i in range(len(record)):
        pi = np.ones(go.M).astype(np.float32)
        pi[record[i]] = 99
        pi = pi / pi.sum()
        tf_examples.append(preprocessing.make_tf_example((start, remain), pi, v))

        start = start + go.d[i]
        remain -= 1

    output_name = '{}-{}'.format(int(time.time()), name)
    fname = os.path.join('madeup', "{}.tfrecord.zz".format(output_name))
    preprocessing.write_tf_examples(fname, tf_examples)


i = 1
for record in records:
    touchOneRecord(record[0], i, record[1])
    i += 1
